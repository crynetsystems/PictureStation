<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>pictureStation</title>
    <link rel="stylesheet" href="/mainTheme.css">
  </head>
  <body id="app">
    <div id="header">

    </div>
    <div id="content">
    	<ul class="titleList">
    		<%for(var i of displayObj.image){%>
    			<li><a v-on:click="go('<%=i.tag_id%>')" ><%=i.tag_name%></a></li>
    		<%}%>
    	</ul>
    	<ul class="titleList">
    		<%for(var i of displayObj.novel){%>
    			<li><a v-on:click="go('<%=i.tag_id%>')" href="#"><%=i.tag_name%></a></li>
    		<%}%>
    	</ul>
    	<ul class="titleList">
    		<%for(var i of displayObj.movies){%>
    			<li><a v-on:click="go('<%=i.tag_id%>')" href="#"><%=i.tag_name%></a></li>
    		<%}%>
    	</ul>
    </div>
    <div id="adsTop">
    	<ul class="adsList">
    		<li><a href="#"><img src="/ads/123.gif" alt="" /></a></li>
    		<li><a href="#"><img src="/ads/123.gif" alt="" /></a></li>
        <li><a href="#"><img src="/ads/123.gif" alt="" /></a></li>
        <li><a href="#"><img src="/ads/123.gif" alt="" /></a></li>
        <li><a href="#"><img src="/ads/123.gif" alt="" /></a></li>
    	</ul>
    </div>
    <div id="listContent" v-if="isinit">
        <ul class="urlList" >
            <li v-for="item in list">
            <a class="title-link" href="/sds/{{item.id}}" target="_blank" >
                <div class="title-div" >
                    <span class="title-span">{{item.content_name}}</span>
                    <span class="time-span">{{item.create_date}}</span>
                    <hr class="title-hr">
                </div>
            </a>
            </li>
        </ul>
        <div id="page-list">
            <ul id="page-list-ul">
                
            <li v-for=""></li>

            <li><a class="first-page" href="/heihei/page/1">«</a></li>
            <li><a href="/{{class}}/page/1">1</a></li>
            <li><a href="/heihei/page/1">2</a></li>
            <li><a href="/heihei/page/1">3</a></li>
            <li><a href="/heihei/page/1">4</a></li>
            <li><a href="/heihei/page/1">5</a></li>
            <li><a href="/heihei/page/1">6</a></li>
            <li><a>...</a></li>
            <li><a href="/heihei/page/140">»</a></li>

            
            </ul>
        </div>
    </div>
    <div id="adsFoot">
    	<ul class="adsList">
    		<li>1</li>
    		<li>1</li>
    		<li>1</li>
    		<li>1</li>
    		<li>1</li>
    		<li>1</li>
    	</ul>
    </div>
    <div id="footer"></div>
    <script src="http://cdn.jsdelivr.net/vue/1.0.26/vue.min.js"></script>
    <script src="https://cdn.jsdelivr.net/vue.resource/0.9.3/vue-resource.min.js"></script>
    <script>
        
        var vm = new Vue({
            el: '#app',
            data:{list:[],pages:[],class:"test",isinit:false},
            methods:{
                go:function(id){
                    this.$http.post('/getlist',{id:id}).then(res=>{
                        this.isinit = true;
                        this.list.splice(0,this.list.length);
                        var result = JSON.parse(res.body)
                        result.data.forEach(item=>{
                            this.list.push(item);
                            console.log('push!')
                        })
                        this.class = id;
                        var totalpg = result.data.pagecount/
                        this.pages.splice(0,this.pages.length);
                        //for (let i = 0; i < result.data.pagecount; i++) {
                         //   if(i == 0)
                        //    {
                       //         this.pages.push({});
                        //    }
                       //     this.pages.push({});
                     //s   }

                    })
                },
                goto:function(id){
                    alert(id);
                    window.open('/hehe/'+id);
                }
            },
            created: function () {
                

                console.log('begin')

            }
        })

    </script>
  </body>
</html>
